<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <title>Secretar√≠a ¬∑ Agenda de Turnos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="./styles.css"/>

  <script defer src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.12.4/firebase-auth-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore-compat.js"></script>
  <script defer src="./common.js"></script>
  <script defer src="./secretaria-agenda.js"></script>

  <style>
    /* Barras */
    .toolbar{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .headline-bar{text-align:center;margin-top:10px;margin-bottom:-4px;color:#1f2937;font-weight:600}

    /* Panel de DNI (separado y m√°s abajo) */
    .dni-panel{
      display:flex; align-items:center; gap:10px;
      margin-top:14px;
    }
    .dni-panel label{ font-weight:600; color:#1f2937; }
    .dni-panel input{ width:180px }

    /* Tabla tipo ‚ÄúExcel‚Äù con anchos bien repartidos */
    .table-wrap{overflow:auto;margin-top:12px}
    table.agenda{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      table-layout:fixed; /* evita solapamientos */
    }
    table.agenda th,table.agenda td{
      border:1px solid var(--line,#dfe3ea);
      padding:10px;
      vertical-align:middle;
      word-break:break-word;     /* cortar textos largos */
      overflow-wrap:anywhere;     /* evitar desbordes */
      line-height:1.25;
    }
    table.agenda th{
      background:#eef2ff;color:#1f2937;text-align:center;font-weight:700
    }
    table.agenda td.center{text-align:center}
    table.agenda td.left{text-align:left}
    table.agenda td.actions{text-align:center}
    table.agenda tr:nth-child(even) td{background:#fafbff}
    .nowrap{white-space:nowrap}

    /* Pastillas de estado */
    .pill{padding:2px 8px;border-radius:999px;font-size:.85rem;border:1px solid transparent}
    .pill.prog{background:#e0e7ff;color:#1e3a8a;border-color:#93c5fd}
    .pill.comp{background:#d1fae5;color:#065f46;border-color:#10b981}
    .pill.canc{background:#fee2e2;color:#991b1b;border-color:#ef4444}
    .pill.posp{background:#fef9c3;color:#854d0e;border-color:#fde68a}
  </style>
</head>
<body>
<header class="topbar">
  <div class="logo">ü¶∑ <span>DENTASOFT</span></div>
  <nav class="menu">
    <a class="backlink upper" href="./secretaria.html">ATR√ÅS</a>
  </nav>
</header>

<section class="container">
  <div class="page-head"><h1 class="headline-xl">Agenda de Turnos</h1></div>

  <div class="card">
    <!-- Fila principal -->
    <div class="toolbar">
      <button id="btnPrev" class="btn">‚Üê Anterior</button>
      <button id="btnHoy" class="btn">Hoy</button>
      <button id="btnNext" class="btn">Siguiente ‚Üí</button>

      <input id="fecha" type="date" title="Elegir fecha">
      <select id="fOdo" class="grow"><option value="">Todos los odont√≥logos</option></select>

      <button id="btnRefrescar" class="btn btn-primary">Refrescar</button>
      <button id="btnImprimir" class="btn">Imprimir d√≠a</button>
    </div>

    <!-- Panel de b√∫squeda por DNI (separado) -->
    <div class="dni-panel">
      <label for="fDni">B√∫squeda por DNI</label>
      <input id="fDni" placeholder="8 d√≠gitos" inputmode="numeric" maxlength="8">
      <button id="btnBuscarDni" class="btn">Buscar</button>
      <button id="btnLimpiarDni" class="btn">Limpiar</button>
    </div>

    <div id="status" class="notice headline-bar" style="display:none"></div>

    <!-- Tabla -->
    <div class="table-wrap">
      <table class="agenda">
        <colgroup>
          <col style="width:10%">  <!-- Fecha -->
          <col style="width:10%">  <!-- Hora  -->
          <col style="width:20%">  <!-- Paciente -->
          <col style="width:10%">  <!-- Motivo -->
          <col style="width:15%">  <!-- Estado -->
          <col style="width:15%">  <!-- Odont√≥logo -->
          <col style="width:20%">  <!-- Acciones -->
        </colgroup>
        <thead>
          <tr>
            <th>Fecha</th>
            <th>Hora</th>
            <th>Paciente</th>
            <th>Motivo</th>
            <th>Estado</th>
            <th>Odont√≥logo</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="tbody">
          <tr><td class="center" colspan="7">Eleg√≠ fecha y presion√° ‚ÄúRefrescar‚Äù.</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</section>
</body>
</html>


