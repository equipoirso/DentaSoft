<<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <title>Secretar√≠a ¬∑ Agregar Paciente</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="./styles.css"/>

  <!-- Firebase (compat) + tus scripts -->
  <script defer src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.12.4/firebase-auth-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore-compat.js"></script>
  <script defer src="./common.js"></script>
  <script defer src="./secretaria-pacientes.js"></script>

  <!-- Estilo m√≠nimo para centrar las acciones -->
  <style>
    .actions.centered{
      margin-top:16px; display:flex; gap:12px;
      justify-content:center; align-items:center; flex-wrap:wrap;
    }
    .actions.centered .btn{ min-width:150px; }
  </style>
</head>
<body>
<header class="topbar">
  <div class="logo">ü¶∑ <span>DENTASOFT</span></div>
  <nav class="menu">
    <a class="backlink upper" href="./secretaria.html">ATR√ÅS</a>
  </nav>
</header>

<section class="container">
  <div class="page-head"><h1 class="headline-xl">Agregar Paciente</h1></div>

  <div class="card">
    <!-- FORMULARIO DE ALTA -->
    <!-- Notas:
         - DNI: solo n√∫meros y exactamente 8 d√≠gitos (pattern + JS).
         - Obra social: si es "Particular", el N¬∫ de afiliado queda deshabilitado y vac√≠o.
                        si NO es "Particular", se habilita (opcional) y valida solo n√∫meros (hasta 10).
         - Nombre/Apellido: solo letras y espacios (JS).
         - Email: debe tener exactamente un "@" (JS).
         - Tel√©fono: solo n√∫meros, hasta 10 d√≠gitos (JS). -->
    <form id="formPac">
      <div class="grid-2">
        <label>DNI
          <input id="dni" name="dni"
                 inputmode="numeric" maxlength="8" placeholder="8 d√≠gitos"
                 required>
        </label>

        <label>Obra Social
          <select id="obraSocial" name="obraSocial" required>
            <option value="" selected disabled>Seleccion√° una opci√≥n</option>
            <option>Galeno</option>
            <option>OSDE</option>
            <option>Swiss Medical</option>
            <option>Avalian</option>
            <option>Osecac</option>
            <option>IOMA</option>
            <option>Sancor Salud</option>
            <option>Particular</option><!-- reemplaza a "Otra" -->
          </select>
        </label>

        <!-- N¬∫ de afiliado:
             - Oculto/deshabilitado cuando la obra es "Particular"
             - Habilitado (opcional) y num√©rico cuando NO es "Particular" -->
        <label>N√∫mero de afiliado
          <input id="numeroAfiliado" name="numeroAfiliado"
                 inputmode="numeric" maxlength="10" placeholder="Hasta 10 d√≠gitos">
        </label>

        <label>Nombre
          <input id="nombre" name="nombre" required maxlength="50" placeholder="Solo letras">
        </label>

        <label>Apellido
          <input id="apellido" name="apellido" required maxlength="50" placeholder="Solo letras">
        </label>

        <label>Email
          <input id="email" name="email" type="email" placeholder="ej: paciente@mail.com">
        </label>

        <label>Tel√©fono
          <input id="telefono" name="telefono" inputmode="numeric" maxlength="10" placeholder="Hasta 10 d√≠gitos">
        </label>
      </div>

      <!-- ACCIONES centradas -->
      <div class="actions centered">
        <button type="submit" class="btn btn-primary">Agregar Paciente</button>
        <button type="button" id="btnCancelar" class="btn">Cancelar</button>
      </div>
    </form>

    <!-- Mensajes de estado -->
    <div id="status" class="notice" style="display:none;margin-top:12px"></div>
  </div>
</section>
</body>
</html>
